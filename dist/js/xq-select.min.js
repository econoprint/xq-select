$(document).ready(function(){$(".xq-select > select").xqselect()}),function($){$.fn.xqselect=function(t){var e=this;return e.init=function(n){e.options=$.extend({},$.fn.xqselect.defaultOptions,t),$(n).each(function(t){e.RenderSelect(this,t)})},e.RenderSelect=function(t,n){var a=$(t),o=a.parents(e.options.wrapper);if(!e.isMobile()||1==!o.attr("data-mobile")){var i=$(e.options.templateFauxSelect),d=$(e.options.templateFauxButton),r="undefined"!=typeof a.attr("tabindex")?a.attr("tabindex"):0,p=a.prop("id");"undefined"==typeof p&&(p="xqSelect"+n,a.attr("id",p)),o.off(),o.find(".xq-select-dropdown").remove(),o.find("button").remove();var s=a.children();s.each(function(){var t=$(this);if("OPTION"==t.prop("tagName")){var n=e.CreateOption(t,p);i.append(n)}else if("OPTGROUP"==t.prop("tagName")){var a=e.CreateOptGroup(t);i.append(a);var o=t.children();o.each(function(){var t=e.CreateOption($(this),p);i.append(t)})}}),d.attr("tabindex",r),a.addClass("xq-select-enabled").attr("tabindex","-1"),o.on("shown.bs.dropdown",function(){e.onOpen(this)}),o.on("keydown",".xq-select-dropdown",function(t){9==t.which&&e.closeDropDown(this)}),o.on("keydown",".xq-select-item",function(t){e.onKeyDown(t,this)}),o.on("click",".xq-select-item",function(){e.onClick(this)}),o.append(d),o.append(i)}},e.CreateOptGroup=function(t){var e=t.attr("label"),n=$("<li></li>");return n.addClass("optgroup"),n.text(e),n},e.CreateOption=function(t,e){var n=t.index("#"+e+" option"),a=$('<a tabindex="'+n+'"></a>'),o=$("<li></li>");a.attr("data-value",t.val()),a.attr("data-target","#"+e),a.attr("data-index",n),a.addClass("xq-select-item"),t.prop("selected")&&a.addClass("selected"),a.text(t.text()),t.attr("disabled")&&a.addClass("disabled"),"undefined"!=typeof t.attr("data-original-text")&&a.text(t.attr("data-original-text"));var i=t.attr("data-subtext");if("undefined"!=typeof i){var d=$("<span></span>");d.text(i),a.append(d),t.text().length<i.length&&(t.attr("data-original-text",t.text()),t.append(" <span>("+i+")</span>"))}return o.append(a),o},e.onClick=function(t){var n=$(t).attr("data-target");$(t).hasClass("disabled")||($(n).val($(t).attr("data-value")),$(e.options.fauxOption).removeClass("selected"),$(t).addClass("selected"),$(n).trigger("change")),$(t).parents(".xq-select-dropdown").prev(".dropdown-toggle").focus()},e.onKeyDown=function(t,e){var n=t.which;13==n&&(t.preventDefault(),$(e).click())},e.onOpen=function(t){$(t).find(".xq-select-item.selected").focus()},e.closeDropDown=function(t){$(t).parent(e.options.wrapper).removeClass("open"),$(t).prev(".dropdown-toggle").attr("aria-expanded",!1)},e.isMobile=function(){return 1==/(android|blackberry|bb10|mobile|iphone|ipad|ipod|opera mini|iemobile|windows phone)/i.test(navigator.userAgent)},e.init(this),e},$.fn.xqselect.defaultOptions={fauxOption:".xq-select-item",trigger:".xq-select > select",wrapper:".xq-select",templateFauxSelect:'<ul class="dropdown-menu xq-select-dropdown" role="menu"></ul>',templateFauxButton:'<button type="button" class="btn dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">&nbsp;</button>'}}(jQuery),$(document).on("shown.bs.dropdown",".xq-select",function(){var t=$(this).children(".dropdown-menu"),e=$(this).children(".dropdown-toggle"),n=t.offset(),a=n.top-e.height()-t.height()-$(window).scrollTop(),o=$(window).scrollTop()+$(window).height()-(n.top+t.height());0>o&&(a>=0||a>o)&&$(this).addClass("dropup")}).on("hidden.bs.dropdown",".dropdown",function(){$(this).removeClass("dropup")});
//# sourceMappingURL=./xq-select.min.js.map